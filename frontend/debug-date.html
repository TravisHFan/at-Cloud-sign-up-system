<!DOCTYPE html>
<html>
  <head>
    <title>Date Input Debug</title>
  </head>
  <body>
    <h1>Date Input Timezone Debug</h1>

    <form id="testForm">
      <label>Select a date:</label>
      <input type="date" id="dateInput" />
      <button type="submit">Submit</button>
    </form>

    <div id="results"></div>

    <script>
      const form = document.getElementById("testForm");
      const dateInput = document.getElementById("dateInput");
      const results = document.getElementById("results");

      // Set tomorrow's date as default
      dateInput.value = "2025-07-23";

      dateInput.addEventListener("change", function (e) {
        const selectedValue = e.target.value;

        results.innerHTML = `
                <h3>Date Input Analysis:</h3>
                <p><strong>Raw input value:</strong> ${selectedValue}</p>
                <p><strong>Input type:</strong> ${typeof selectedValue}</p>
                <p><strong>Date object from input:</strong> ${new Date(
                  selectedValue
                )}</p>
                <p><strong>Date.toISOString():</strong> ${new Date(
                  selectedValue
                ).toISOString()}</p>
                <p><strong>Date.toISOString().split('T')[0]:</strong> ${
                  new Date(selectedValue).toISOString().split("T")[0]
                }</p>
                <p><strong>Timezone offset (minutes):</strong> ${new Date().getTimezoneOffset()}</p>
                <p><strong>Current time:</strong> ${new Date().toString()}</p>
                <hr>
                <p><strong>ISSUE CHECK:</strong> Input: ${selectedValue}, Processed: ${
          new Date(selectedValue).toISOString().split("T")[0]
        }, Match: ${
          selectedValue === new Date(selectedValue).toISOString().split("T")[0]
        }</p>
            `;
      });

      form.addEventListener("submit", function (e) {
        e.preventDefault();
        console.log("Form submitted with date:", dateInput.value);
      });

      // Trigger initial analysis
      dateInput.dispatchEvent(new Event("change"));
    </script>
  </body>
</html>
